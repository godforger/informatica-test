<script setup>
import {computed, ref, watch} from "vue";
import {stadiums} from "../stadiums.js";

const props = defineProps(['isActive', 'items', 'activeIndex'])
const _isActive = ref(false);
const localIndex = ref(0);

const item = computed(() => {
  return stadiums.find((el, i) => i === localIndex.value);
})

const stop = watch(() => props.isActive, value => {
  _isActive.value = value;
  stop()
})

watch(() => props.activeIndex, value => {
  _isActive.value = false;
  setTimeout(() => {
    localIndex.value = value;
    _isActive.value = true;
  }, 600)
})
</script>
<template>
  <div class="competitor"
       :class="{'competitor--active': _isActive}">
    <div class="competitor-item competitor--left">
      {{ item.competitor[0].name }}
      <div class="icon">
        <svg width="260" height="454" viewBox="0 0 260 454" xmlns="http://www.w3.org/2000/svg">
          <path
              d="m 0,0 v 114.61367 5.29167 c 0.09548619,-1.7e-4 0.19095048,-0.003 0.28628743,-0.008 0.0790136,-0.004 0.15793982,-0.0108 0.23667806,-0.0186 0.0163784,-0.002 0.0327293,-0.003 0.0490926,-0.005 0.0950681,-0.0102 0.18984321,-0.023 0.28422037,-0.0383 0.0941787,-0.0155 0.18791984,-0.0336 0.28111984,-0.0543 0.093281,-0.0206 0.1859883,-0.0437 0.2780192,-0.0692 0.092212,-0.0256 0.1837131,-0.0537 0.2744018,-0.0842 0.090446,-0.0305 0.1800515,-0.0634 0.2687175,-0.0987 0.088856,-0.0353 0.1767385,-0.0731 0.2635498,-0.11317 0.084284,-0.0448 0.4241729,-0.21894 0.5059122,-0.2682 0.081997,-0.0493 0.1626423,-0.10083 0.2418457,-0.15451 0.079012,-0.0537 0.1565549,-0.10953 0.232544,-0.16743 0.076018,-0.0577 0.1504593,-0.11754 0.2232421,-0.17932 0.072854,-0.0618 0.1440215,-0.12555 0.2134237,-0.1912 0.06934,-0.0657 0.1368883,-0.13323 0.2025716,-0.20257 0.065824,-0.0694 0.1297537,-0.14057 0.1917196,-0.21343 0.061782,-0.0729 0.121577,-0.14757 0.1793172,-0.22376 0.020959,-0.0286 0.041631,-0.0573 0.062012,-0.0863 L 4.8374308,116.75463 67.91575,7.4998005 A 5,5 0 0 0 63.585782,0Z"></path>
        </svg>
      </div>
    </div>
    <div class="competitor-item competitor--right">
      {{ item.competitor[1].name }}
      <div class="icon">
        <svg width="260" height="454" viewBox="0 0 260 454" xmlns="http://www.w3.org/2000/svg">
          <path
              d="M 68.585506,119.90534 V 5.2916722 2.2392343e-6 C 68.490016,1.7223923e-4 68.394555,0.00300224 68.299218,0.00800224 c -0.07901,0.004 -0.157939,0.0108 -0.236678,0.0186 -0.01638,0.002 -0.03273,0.003 -0.04909,0.005 -0.09507,0.0102 -0.189843,0.023 -0.284221,0.0383 -0.09418,0.0155 -0.187919,0.0336 -0.281119,0.0543 -0.09328,0.0206 -0.185989,0.0437 -0.27802,0.0692 -0.09221,0.0256 -0.183713,0.0537 -0.274401,0.0842 -0.09045,0.0305 -0.180052,0.0634 -0.268718,0.0987 -0.08886,0.0353 -0.176738,0.0731 -0.26355,0.11317 -0.08428,0.0448 -0.424173,0.21894 -0.505912,0.2682 -0.082,0.0493 -0.162642,0.10083 -0.241846,0.15451 -0.07901,0.0537 -0.156554,0.10952996 -0.232544,0.16742996 -0.07602,0.0577 -0.150459,0.11754 -0.223242,0.17932 -0.07285,0.0618 -0.144021,0.12555 -0.213423,0.1912 -0.06934,0.0657 -0.136889,0.13323 -0.202572,0.20257 -0.06582,0.0694 -0.129754,0.14057 -0.19172,0.21343 -0.06178,0.0729 -0.121577,0.14757 -0.179317,0.22376 -0.02096,0.0286 -0.04163,0.0573 -0.06201,0.0863 L 63.748079,3.1507122 0.66975976,112.40554 a 5,5 0 0 0 4.32996804,7.4998 z"/>
        </svg>
      </div>
    </div>
  </div>
</template>